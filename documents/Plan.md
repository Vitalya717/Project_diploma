# План автоматизации тестирования веб-сервиса по покупке тура
 
#### Два способа оплаты:
1.	Обычная оплата по дебетовой карте.
2.	Уникальная технология: выдача кредита по данным банковской карты.

   ## Перечень автоматизируемых сценариев.

### Позитивные сценарии:
#### Frontend
№ 1 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить»;
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить». Вместо кнопки «Продолжить», отображается «Отправляем запрос в Банк…»
На странице отображается сообщение «Успешно. Операция одобрена Банком».

№ 2
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить в кредит»;
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить». Вместо кнопки «Продолжить», отображается «Отправляем запрос в Банк…»
На странице отображается сообщение «Успешно. Операция одобрена Банком»

№ 3
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить»;
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4442;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить». Вместо кнопки «Продолжить», отображается «Отправляем запрос в Банк…»
На странице отображается сообщение «Ошибка. Банк отказал в проведении операции»

№ 4
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить в кредит»;
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4442;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить». Вместо кнопки «Продолжить», отображается «Отправляем запрос в Банк…»
На странице отображается сообщение «Ошибка. Банк отказал в проведении операции». 

#### Backend
№ 5
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить»;
3.	Отправить POST запрос с заполненным "body" валидными данными с номером карты 4444 4444 4444 4441
Ожидаемый результат: статус 200, в БД приложения появляется информация о платежной операции и status "APPROVED".

№ 6 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить в кредит»;
3.	Отправить POST запрос с заполненным "body" валидными данными с номером карты 4444 4444 4444 4441
Ожидаемый результат: статус 200, в БД приложения появляется информация о платежной операции и status "APPROVED".

№ 5
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить»;
3.	Отправить POST запрос с заполненным "body" валидными данными с номером карты 4444 4444 4444 4442
Ожидаемый результат: статус 403, в БД приложения появляется информация о платежной операции и status "DECLINED"

№ 5
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить в кредит»;
3.	Отправить POST запрос с заполненным "body" валидными данными с номером карты 4444 4444 4444 4442
Ожидаемый результат: статус 403, в БД приложения появляется инфорамция о платежной операции и status "DECLINED"

### Валидные тестовые данные для полей формы.

#### 1.	Поле «Номер карты»:
* номер карты находится в БД банка (4444 4444 4444 4441, 4444 4444 4444 4442)

#### 2.	Поле «Месяц»:
* заполняется только цифрами;
* валидная длина значения состоит из 2 элемента;
* диапазон значения от 01 до 12 (при текущем годе указывается текущий месяц)

#### 3.	Поле «Год»:
* заполняется только цифрами;
* валидная длина значения состоит из 2 элемента;
* диапазон значения от 24 до 29 (пять лет вперед от текущей даты).

#### 4.	Поле «Владелец»:
* заполняется латинскими буквами;
* значение может быть разделено «пробелом» либо «дефисом»;
* валидная длина значения состоит от 2 до 64 элементов.

#### 5.	Поле «CVC/CVV»:
* заполняется только цифрами;
* валидная длина значения состоит из 3 элементов;
* не может состоять из всех нулей. 


### Негативные сценарии:
#### Frontend

№ 1 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением меньше 16 цифр;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Номер карты» отображается сообщение «Неверный формат»*

№ 2 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Поле «Номер карты» оставить пустым;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Номер карты» отображается сообщение «Неверный формат»*

№ 3 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением состоящим из 16 нулей;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».   
*Под полем «Номер карты» отображается сообщение «Неверный формат»*

№ 4 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением состоящим из 16 цифр, начинающееся с нуля;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».     
*Под полем «Номер карты» отображается сообщение «Неверный формат»*

№ 5 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» значением состоящим из одной цифры;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».   
*Под полем «Месяц» отображается сообщение «Неверный формат»*

№ 6 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Поле «Месяц» оставить пустым;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Месяц» отображается сообщение «Неверный формат»*

№ 7 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» значением состоящим из двух нулей;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Месяц» отображается сообщение «Неверный формат»*

№ 8 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» значением >12;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Месяц» отображается сообщение «Неверно указан срок действия карты»*

№ 9 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» значением состоящим из одной цифры;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Год» отображается сообщение «Неверный формат»*

№ 10 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Поле «Год» оставить пустым;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Год» отображается сообщение «Неверный формат»*

№ 11 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» значением состоящим из двух нулей;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Год» отображается сообщение «Неверный формат»*

№ 12 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
4.	Заполнить поле «Год» значением больше пяти лет вперед от текущей даты;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Год» отображается сообщение «Неверно указан срок действия карты»*

№ 13 
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
4.	Заполнить поле «Год» значением меньше текущего года;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Год» отображается сообщение «Истёк срок действия карты»*

№ 14
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» одной латинской буквой;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Владелец» отображается сообщение «Неверный формат»*

№ 15
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» значением состоящим из 65 латинских букв;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Владелец» отображается сообщение «Неверный формат»*

№ 16
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» значением состоящим из букв кириллицы;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Владелец» отображается сообщение «Неверный формат»*

№ 17
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» значением состоящим из символов;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Владелец» отображается сообщение «Неверный формат»*

№ 18
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» значением состоящим из цифр;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Владелец» отображается сообщение «Неверный формат»*

№ 19
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» значением начинающееся либо заканчивающееся с «дефиса» либо «пробела» ;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Владелец» отображается сообщение «Неверный формат»*

№ 20
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Поле «Владелец» оставить пустым;
7.	Заполнить поле «CVC/CVV» валидным значением;
8.	Нажать кнопку «Продолжить».  
*Под полем «Владелец» отображается сообщение «Неверный формат»*

№ 21
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» значением меньше трех цифр;
8.	Нажать кнопку «Продолжить».  
*Под полем «CVC/CVV» отображается сообщение «Неверный формат»*

№ 22
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Заполнить поле «CVC/CVV» значением состоящим из трех нулей;
8.	Нажать кнопку «Продолжить».  
*Под полем «CVC/CVV» отображается сообщение «Неверный формат»*

№ 23
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Заполнить поле «Номер карты» значением 4444 4444 4444 4441;
4.	Заполнить поле «Месяц» валидным значением;
5.	Заполнить поле «Год» валидным значением;
6.	Заполнить поле «Владелец» валидным значением;
7.	Поле «CVC/CVV» оставить пустым;
8.	Нажать кнопку «Продолжить».  
*Под полем «CVC/CVV» отображается сообщение «Неверный формат»*

#### Backend

№ 24
1.	Открыть страницу http://localhost:8080/;
2.	Нажать кнопку «Купить» («Купить в кредит»);
3.	Отправить POST запрос с заполненным "body" валидными данными с номером карты 4444 4444 4444 4442
Ожидаемый результат: статус 403, в БД приложения появляется информация о платежной операции и status "DECLINED"




## Перечень используемых инструментов с обоснованием выбора:

* **IntelliJ IDE** - интегрированная среда разработки для многих языков программирования, в частности Java, JavaScript, Python. В программе можно создавать, редактировать, отлаживать и анализировать код, управлять проектами и обеспечивать множество других задач.

*	**Gradle** - система автоматической сборки, которая используется для управления жизненным циклом разработки проекта. Она предоставляет удобный и гибкий способ описания процесса сборки, зависимостей и других задач, связанных с разработкой программного обеспечения.

*	**Java 11** - универсальный язык. 

*	**Git** - распределённая система управления версиями, которая позволяет отслеживать любые изменения в файлах, хранить их версии и оперативно возвращаться в любое сохранённое состояние.

*	**JUnit5** - последняя версия фреймворка для модульного тестирования Java-приложений, которая обладает множеством новых функций и улучшений по сравнению с предшественником JUnit 4. 

*	**Lombok** - библиотека для сокращения кода в классах и расширения функциональности языка Java. Подключается к среде разработки (IDE) или инструменту сборки приложений Maven, Gradle в качестве плагина.

* **Selenide** - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Подключение веб-драйвера происходит автоматически, простое написание кода тестов.

*	**JavaFaker** - библиотека, которая может быть использована для генерации широкого массива реальных данных.

* **Docker** - платформа контейнеризации с открытым исходным кодом, с помощью которой можно автоматизировать создание приложений, их доставку и управление. Платформа позволяет быстрее тестировать и выкладывать приложения, запускать на одной машине требуемое количество контейнеров. Будет использована для имитации работы IT-системы банка посредством развёртывания БД MySQL, PostgreSQL, запуск самого приложения через Node.js.

*	**Appveyor** - система CI. Непрерывный контроль интеграции кода. Бесплатный, простое подключение и настройка, удобная интеграция с GitHub.

*	**Allure Report** - инструмент для создания интерактивных отчётов о тестировании. Он позволяет визуализировать результаты тестов, упрощает их анализ и повышает прозрачность процесса тестирования.

*	**REST Assured** - библиотека на основе Java для автоматизированного тестирования REST-сервисов. Она упрощает процесс отправки HTTP-запросов, проверки ответов и структурированного извлечения данных из ответов API.

* **Commons-dbutils** - библиотека классов для работы с базами данных. Она упрощает процесс взаимодействия с базами данных, управляя утомительными повторяющимися задачами, такими как открытие соединений, создание и выполнение операторов, обработка наборов результатов и обработка исключений.

*	**Gson** — библиотека на основе Java для сериализации объектов Java в JSON и наоборот.

*	**MySQL Connector Java** - драйвер для языка программирования Java, который позволяет подключаться к базе данных MySQL из приложений на Java. Этот драйвер — открытая реализация протокола MySQL на языке Java, предоставляющая API для доступа и работы с базой данных MySQL

*	**Postgresql** - драйвер JDBC для PostgreSQL. Драйвер позволяет программам на Java подключаться к базе данных PostgreSQL с помощью стандартного, независимого от базы кода Java. 

## Перечень и описание возможных рисков при автоматизации.

1.	При автоматизации сложная настройка окружения. Для работы тестового приложения, необходимо подключить две базы банных (MySQL и Postgresql), а также запустить самого приложения через Node.js.
2.	Могут возникнуть трудности с подключением CI.
3.	Тестируя приложение с имеющимися заглушками, которая имитирует банковский сервис, можно пропустить баги, которые в последствии окажут негативное влияние в работе приложения выпущенного в релиз.
4.	Отсутствуют уникальные идентификаторы для элементов, необходимые для тестирования. Если изменится код веб-приложения, написанные авто тесты могут не проходить, в связи с чем придется все тесты переработать. 

## Интервальная оценка с учётом рисков в часах (при условии, что рабочий день составляет 8 часов).

1.	Настройка окружения, подключение необходимых базы банных (MySQL и Postgresql), а также запустить самого приложения через Node.js.  – 5 часов
2.	Составление плана автоматизации тестирования – 8 часов
3.	Написание и прогон авто тестов – 80 часов
4.	Заведение баг-репортов на обнаруженные в ходе тестирования баги – 24 часа
5.	Составление отчётных документы по итогам тестирования – 8 часов
6.	После проверки дипломного проекта, при необходимости, исправление допущенных ошибок и недочетов, выявленных дипломным руководителем – 24 часа
7.	Составление отчётных документов по итогам автоматизации – 8 часов


## План сдачи работ: когда будут готовы авто тесты, результаты их прогона (при условии, что рабочая неделя составляет 5 дней).

1.	При условии утверждения плана автоматизации тестирования не позднее 29.11.2024, написание и прогон авто тестов будут готовы в течении 8 рабочих дней – 10.12.2024
2.	Составление отчетных документов по итого тестирования будет готов в течении 1 рабочего дня – 12.12.2024
3.	Исправление ошибок и недочетов, выявленных дипломным руководителем, в течении 3 рабочих дней – 17.12.2024
4.	Составление отчётных документов по итогам автоматизации в течении 1 рабочего дня – 18.12.2024

